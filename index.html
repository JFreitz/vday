<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For Ryana Zhea</title>

<script src="https://unpkg.com/three@0.152.2/build/three.min.js"></script>
<script src="https://unpkg.com/gsap@3/dist/gsap.min.js"></script>

<style>
@import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;600;700&display=swap');

html, body {
  margin: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  background: radial-gradient(circle at center, #2d0a3d 0%, #0c001a 70%);
  font-family: "Dancing Script", cursive;
  cursor: none;
}

canvas {
  position: fixed;
  inset: 0;
  pointer-events: none;
}

/* cursor */
.cursor {
  position: fixed;
  width: 20px;
  height: 20px;
  background: radial-gradient(circle, #ff69a8, #ff3c7f);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  pointer-events: none;
  z-index: 9999;
}

/* screens */
.screen {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  text-align: center;
  z-index: 100;
  pointer-events: none;
}

.hidden {
  opacity: 0;
  visibility: hidden;
}

/* buttons */
button {
  pointer-events: auto;
  background: transparent;
  border: 3px solid #ff3c7f;
  color: #ff8abf;
  padding: 24px 50px;
  font-size: 28px;
  border-radius: 50px;
  cursor: none;
  transition: .3s;
}
button:hover {
  background: #ff3c7f;
  color: #12020e;
  transform: scale(1.1);
}

/* heart */
.heartContainer,
.heartSVG,
#heartSVG,
#heartShape {
  pointer-events: auto;
}

.heartSVG {
  width: 260px;
  filter: drop-shadow(0 0 30px rgba(255,60,127,.6));
}

.clickCounter {
  font-size: 22px;
  margin-bottom: 10px;
  color: #ff8abf;
}

.eye { fill: #fff; }
.pupil { fill: #000; }

/* text */
h1 {
  font-size: 3.5rem;
  background: linear-gradient(45deg,#ff69a8,#ff3c7f,#fff);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}
</style>
</head>

<body>

<div class="cursor"></div>
<canvas id="glCanvas"></canvas>

<!-- INTRO -->
<div class="screen" id="introScreen">
  <h1>A Special Invitation for Ryana Zhea</h1>
  <button id="startBtn">Click to Begin</button>
</div>

<!-- HEART -->
<div class="screen hidden" id="heartScreen">
  <div class="heartContainer">
    <div class="clickCounter" id="clickCounter">Click the heart (0/10)</div>

    <svg class="heartSVG" id="heartSVG" viewBox="0 0 512 512">
      <path id="heartShape"
        d="M256 472s216-135.7 216-295.8S353.8 56 256 160 40 103 40 176.2 256 472 256 472z"
        fill="#c8003a"/>

      <circle class="eye" cx="200" cy="200" r="22"/>
      <circle class="eye" cx="312" cy="200" r="22"/>
      <circle class="pupil" id="p1" cx="200" cy="200" r="10"/>
      <circle class="pupil" id="p2" cx="312" cy="200" r="10"/>
    </svg>
  </div>

  <h1 id="questionText">Will you be my Valentineâ€™s date?</h1>
  <button id="yesBtn" class="hidden">YES</button>
</div>

<!-- FINAL -->
<div class="screen hidden" id="finalScreen">
  <h1>Thank you for choosing me, Ryana Zhea</h1>
</div>

<script>
// cursor
const cursor = document.querySelector(".cursor");
document.addEventListener("mousemove", e => {
  cursor.style.left = e.clientX + "px";
  cursor.style.top = e.clientY + "px";
});

// THREE background
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(60, innerWidth/innerHeight, 0.1, 1000);
camera.position.z = 8;

const renderer = new THREE.WebGLRenderer({ canvas: glCanvas, alpha: true });
renderer.setSize(innerWidth, innerHeight);

const geo = new THREE.BufferGeometry();
const count = 800;
const pos = new Float32Array(count * 3);
for (let i = 0; i < count * 3; i++) pos[i] = (Math.random() - .5) * 30;
geo.setAttribute("position", new THREE.BufferAttribute(pos, 3));
const mat = new THREE.PointsMaterial({ color: 0xff69a8, size: .07 });
const pts = new THREE.Points(geo, mat);
scene.add(pts);

function animate() {
  requestAnimationFrame(animate);
  pts.rotation.y += .0008;
  renderer.render(scene, camera);
}
animate();

// UI logic
const intro = introScreen;
const heart = heartScreen;
const final = finalScreen;
const startBtn = document.getElementById("startBtn");
const yesBtn = document.getElementById("yesBtn");
const heartSVG = document.getElementById("heartSVG");
const counter = document.getElementById("clickCounter");

let clicks = 0;

startBtn.onclick = () => {
  gsap.to(intro, { autoAlpha: 0, duration: 1 });
  setTimeout(() => heart.classList.remove("hidden"), 1000);
};

heartSVG.onclick = () => {
  clicks++;
  counter.textContent = `Click the heart (${clicks}/10)`;
  gsap.fromTo(heartSVG,{scale:1},{scale:1.15,yoyo:true,repeat:1,duration:.15});

  if (clicks >= 10) {
    gsap.to(heartSVG,{scale:0,rotation:360,duration:1});
    setTimeout(()=> yesBtn.classList.remove("hidden"), 800);
  }
};

yesBtn.onclick = () => {
  gsap.to(heart,{autoAlpha:0,duration:1});
  setTimeout(()=> final.classList.remove("hidden"), 1000);
};

// eyes
document.addEventListener("mousemove", e => {
  [[p1,200],[p2,312]].forEach(([p,x])=>{
    const dx = (e.clientX - innerWidth/2)/80;
    const dy = (e.clientY - innerHeight/2)/80;
    p.setAttribute("cx", x + dx);
    p.setAttribute("cy", 200 + dy);
  });
});

onresize = () => {
  camera.aspect = innerWidth/innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(innerWidth, innerHeight);
};
</script>

</body>
</html>
